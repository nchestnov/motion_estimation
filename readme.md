# Домашнее задание № 4 по предмету "Обработка и анализ изображений"

## Описание

В качестве метода Motion Estimation был выбран реализация разреженного **Optical Flow** с помощью модификации алгоритма **Lucas-Kanade** с использованием пирамидального представления. Поиск ключевых точек выполнен с помощью метода **Shi-Tomasi**.

Необходимость использования пирамидального представления заключается в том, что данный алгоритм в своем изначальном виде подходит только для небольших (порядка 1 пикселя) смещений. Это вызвано линейным разложением ряда Тейлора.

## Запуск

Установка зависимостей: `pip3 install -r requirements.txt`

Запуск: `python3 main.py`


## Асимптотика

Алгоритм поиска особых точек Shi-Tomasi имеет асимптотику ***O(m\*n)***, поскольку проходит окном по всем пикселям, подсчет частных производных по осям также линейно зависит от количества пикселей на изображении.

Поскольку в данной реализации используется ограниченное число ключевых точек, то вклад алгоритма оптического потока не зависит напрямую от размеров изображения, но зависит от количества уровней пирамиды, от размера пикселей в окне усреднения.

Таким образом асимптотическая зависимость от количества пикселей имеет вид - ***O(m\*n)***.

## Структура репозитория

- **input/** - папка с входными изображениями
- **src/io.py** - вспомогательные функции ввода-вывода данных
- **src/lucas_kanade.py** - реализация основного алгоритма
- **src/report.py** - вспомогательные функции для создания отчета
- **main.py** - основной запускаемый файл
- **results.txt** - полученные значения сдвигов по горизонтали и вертикали соотв.
- **timing_report.png** - график зависимости времени работы алгоритма от номера кадра

